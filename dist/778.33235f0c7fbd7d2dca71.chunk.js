(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[778],{378426:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n=i(665045),o=i(919629),r=i(558493),s=i(9520),h="length",a=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.ZP);const c=function(t){function e(e,i){t.call(this);var n=i||{};if(this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(var o=0,r=this.array_.length;o<r;++o)this.assertUnique_(this.array_[o],o);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(h)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new a(o.Z.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new a(o.Z.REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new a(o.Z.REMOVE,n)),this.dispatchEvent(new a(o.Z.ADD,e))}else{for(var r=i;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(h,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==e)throw new n.Z(58)},e}(r.ZP)},919629:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={ADD:"add",REMOVE:"remove"}},611256:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},666901:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},208913:(t,e,i)=>{"use strict";i.d(e,{XC:()=>h,_2:()=>l,BB:()=>_});var n=i(438906),o=i(921882),r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function h(t){return"string"==typeof t?t:_(t)}var a,c,u=(a={},c=0,function(t){var e;if(a.hasOwnProperty(t))e=a[t];else{if(c>=1024){var i=0;for(var o in a)0==(3&i++)&&(delete a[o],--c)}e=function(t){var e,i,o,h,a;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}(t)),r.exec(t)){var c,u=t.length-1;c=u<=4?1:2;var l=4===u||8===u;e=parseInt(t.substr(1+0*c,c),16),i=parseInt(t.substr(1+1*c,c),16),o=parseInt(t.substr(1+2*c,c),16),h=l?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,i=(i<<4)+i,o=(o<<4)+o,l&&(h=(h<<4)+h)),a=[e,i,o,h/255]}else 0==t.indexOf("rgba(")?p(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),p(a)):(0,n.h)(!1,14);return a}(t),a[t]=e,++c}return e});function l(t){return Array.isArray(t)?t:u(t)}function p(t){return t[0]=(0,o.uZ)(t[0]+.5|0,0,255),t[1]=(0,o.uZ)(t[1]+.5|0,0,255),t[2]=(0,o.uZ)(t[2]+.5|0,0,255),t[3]=(0,o.uZ)(t[3],0,1),t}function _(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}},545120:(t,e,i)=>{"use strict";i.d(e,{y:()=>o});var n=i(208913);function o(t){return Array.isArray(t)?(0,n.BB)(t):t}},267644:(t,e,i)=>{"use strict";i.d(e,{oj:()=>r,$A:()=>s,XV:()=>h,hg:()=>a,hN:()=>c,tr:()=>u});var n,o,r="ol-hidden",s="ol-selectable",h="ol-unselectable",a="ol-control",c="ol-collapsed",u=(o={},function(t){if(n||(n=document.createElement("div").style),!(t in o)){n.font=t;var e=n.fontFamily;if(n.font="",!e)return null;o[t]=e.split(/,\s?/)}return o[t]})},85386:(t,e,i)=>{"use strict";function n(t,e){var i=document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function o(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10))}function r(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+(parseInt(i.marginTop,10)+parseInt(i.marginBottom,10))}function s(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function h(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function a(t){for(;t.lastChild;)t.removeChild(t.lastChild)}i.d(e,{E4:()=>n,iO:()=>o,Pb:()=>r,$H:()=>s,ZF:()=>h,ep:()=>a})},798090:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>u});var n=i(613002),o=i(173381),r=i(421915),s=i(208204),h=i(28795),a=i(913580);function c(t){for(var e=[],i=0,n=t.length;i<n;++i)e.push(t[i].clone());return e}const u=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)(0,n.Ev)(this.geometries_[t],o.Z.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)(0,n.oL)(this.geometries_[t],o.Z.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,i,n){if(n<(0,r.qf)(this.getExtent(),t,e))return n;for(var o=this.geometries_,s=0,h=o.length;s<h;++s)n=o[s].closestPointXY(t,e,i,n);return n},e.prototype.containsXY=function(t,e){for(var i=this.geometries_,n=0,o=i.length;n<o;++n)if(i[n].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,r.YN)(t);for(var e=this.geometries_,i=0,n=e.length;i<n;++i)(0,r.l7)(t,e[i].getExtent());return t},e.prototype.getGeometries=function(){return c(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,a.ZH)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var i=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(i))return this.simplifiedGeometryCache[i];for(var n=[],o=this.geometries_,r=!1,s=0,h=o.length;s<h;++s){var c=o[s],u=c.getSimplifiedGeometry(t);n.push(u),u!==c&&(r=!0)}if(r){var l=new e(null);return l.setGeometriesArray(n),this.simplifiedGeometryCache[i]=l,l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return h.Z.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)if(e[i].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var i=this.geometries_,n=0,o=i.length;n<o;++n)i[n].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,i){var n=i;n||(n=(0,r.qg)(this.getExtent()));for(var o=this.geometries_,s=0,h=o.length;s<h;++s)o[s].scale(t,e,n);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(c(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)e[i].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var i=this.geometries_,n=0,o=i.length;n<o;++n)i[n].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(s.Z)},910410:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var n=i(949179),o=i(558493),r=i(428192),s=i(921882),h=i(913580);const a=function(t){function e(e){t.call(this);var i=(0,h.f0)({},e);i[r.Z.OPACITY]=void 0!==e.opacity?e.opacity:1,i[r.Z.VISIBLE]=void 0===e.visible||e.visible,i[r.Z.Z_INDEX]=e.zIndex,i[r.Z.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[r.Z.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(i),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=(0,s.uZ)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return(0,n.O3)()},e.prototype.getLayerStatesArray=function(t){return(0,n.O3)()},e.prototype.getExtent=function(){return this.get(r.Z.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(r.Z.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(r.Z.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(r.Z.OPACITY)},e.prototype.getSourceState=function(){return(0,n.O3)()},e.prototype.getVisible=function(){return this.get(r.Z.VISIBLE)},e.prototype.getZIndex=function(){return this.get(r.Z.Z_INDEX)},e.prototype.setExtent=function(t){this.set(r.Z.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(r.Z.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(r.Z.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(r.Z.OPACITY,t)},e.prototype.setVisible=function(t){this.set(r.Z.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(r.Z.Z_INDEX,t)},e}(o.ZP)},677701:(t,e,i)=>{"use strict";i.d(e,{l:()=>p,Z:()=>_});var n=i(613002),o=i(173381),r=i(949179),s=i(558493),h=i(910410),a=i(428192),c=i(913580),u=i(397208),l=i(582418);function p(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}const _=function(t){function e(e){var i=(0,c.f0)({},e);delete i.source,t.call(this,i),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),(0,n.oL)(this,(0,s.v_)(a.Z.SOURCE),this.handleSourcePropertyChange_,this);var o=e.source?e.source:null;this.setSource(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(a.Z.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():l.Z.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,n.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,n.oL)(t,o.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,n.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,n.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,n.oL)(t,u.Z.PRECOMPOSE,(function(t){var e=t,i=this.getLayerState();i.managed=!1,void 0===this.getZIndex()&&(i.zIndex=1/0),e.frameState.layerStatesArray.push(i),e.frameState.layerStates[(0,r.sq)(this)]=i}),this),this.mapRenderKey_=(0,n.oL)(this,o.Z.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(a.Z.SOURCE,t)},e}(h.default)},428192:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},556510:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IMAGE:"image",VECTOR:"vector"}},508835:function(t){t.exports=function(){"use strict";function t(i,n,o,r,s){for(;r>o;){if(r-o>600){var h=r-o+1,a=n-o+1,c=Math.log(h),u=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*u*(h-u)/h)*(a-h/2<0?-1:1);t(i,n,Math.max(o,Math.floor(n-a*u/h+l)),Math.min(r,Math.floor(n+(h-a)*u/h+l)),s)}var p=i[n],_=o,f=r;for(e(i,o,n),s(i[r],p)>0&&e(i,o,r);_<f;){for(e(i,_,f),_++,f--;s(i[_],p)<0;)_++;for(;s(i[f],p)>0;)f--}0===s(i[o],p)?e(i,o,f):e(i,++f,r),f<=n&&(o=f+1),n<=f&&(r=f-1)}}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}return function(e,n,o,r,s){t(e,n,o||0,r||e.length-1,s||i)}}()},46358:(t,e,i)=>{"use strict";t.exports=o,t.exports.default=o;var n=i(508835);function o(t,e){if(!(this instanceof o))return new o(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function r(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function s(t,e){h(t,0,t.children.length,e,t)}function h(t,e,i,n,o){o||(o=g(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r,s=e;s<i;s++)r=t.children[s],a(o,t.leaf?n(r):r);return o}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(t,e,i,o,r){for(var s,h=[e,i];h.length;)(i=h.pop())-(e=h.pop())<=o||(s=e+Math.ceil((i-e)/o/2)*o,n(t,s,e,i,r),h.push(e,s,s,i))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!f(t,e))return i;for(var o,r,s,h,a=[];e;){for(o=0,r=e.children.length;o<r;o++)s=e.children[o],f(t,h=e.leaf?n(s):s)&&(e.leaf?i.push(s):_(t,h)?this._all(s,i):a.push(s));e=a.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!f(t,e))return!1;for(var n,o,r,s,h=[];e;){for(n=0,o=e.children.length;n<o;n++)if(r=e.children[n],f(t,s=e.leaf?i(r):r)){if(e.leaf||_(t,s))return!0;h.push(r)}e=h.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var i,n,o,s,h=this.data,a=this.toBBox(t),c=[],u=[];h||c.length;){if(h||(h=c.pop(),n=c[c.length-1],i=u.pop(),s=!0),h.leaf&&-1!==(o=r(t,h.children,e)))return h.children.splice(o,1),c.push(h),this._condense(c),this;s||h.leaf||!_(h,a)?n?(i++,h=n.children[i],s=!1):h=null:(c.push(h),u.push(i),i=0,n=h,h=h.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var o,r=i-e+1,h=this._maxEntries;if(r<=h)return s(o=g(t.slice(e,i+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(r)/Math.log(h)),h=Math.ceil(r/Math.pow(h,n-1))),(o=g([])).leaf=!1,o.height=n;var a,c,u,l,p=Math.ceil(r/h),_=p*Math.ceil(Math.sqrt(h));for(d(t,e,i,_,this.compareMinX),a=e;a<=i;a+=_)for(d(t,a,u=Math.min(a+_-1,i),p,this.compareMinY),c=a;c<=u;c+=p)l=Math.min(c+p-1,u),o.children.push(this._build(t,c,l,n-1));return s(o,this.toBBox),o},_chooseSubtree:function(t,e,i,n){for(var o,r,s,h,a,c,u,p,_,f;n.push(e),!e.leaf&&n.length-1!==i;){for(u=p=1/0,o=0,r=e.children.length;o<r;o++)a=l(s=e.children[o]),_=t,f=s,(c=(Math.max(f.maxX,_.maxX)-Math.min(f.minX,_.minX))*(Math.max(f.maxY,_.maxY)-Math.min(f.minY,_.minY))-a)<p?(p=c,u=a<u?a:u,h=s):c===p&&a<u&&(u=a,h=s);e=h||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,o=i?t:n(t),r=[],s=this._chooseSubtree(o,this.data,e,r);for(s.children.push(t),a(s,o);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(o,r,e)},_split:function(t,e){var i=t[e],n=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,n);var r=this._chooseSplitIndex(i,o,n),h=g(i.children.splice(r,i.children.length-r));h.height=i.height,h.leaf=i.leaf,s(i,this.toBBox),s(h,this.toBBox),e?t[e-1].children.push(h):this._splitRoot(i,h)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,o,r,s,a,c,u,p,_,f,g,d,m,y;for(c=u=1/0,n=e;n<=i-e;n++)_=o=h(t,0,n,this.toBBox),f=r=h(t,n,i,this.toBBox),void 0,void 0,void 0,void 0,g=Math.max(_.minX,f.minX),d=Math.max(_.minY,f.minY),m=Math.min(_.maxX,f.maxX),y=Math.min(_.maxY,f.maxY),s=Math.max(0,m-g)*Math.max(0,y-d),a=l(o)+l(r),s<c?(c=s,p=n,u=a<u?a:u):s===c&&a<u&&(u=a,p=n);return p},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:c,o=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,o)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var o,r,s=this.toBBox,c=h(t,0,e,s),u=h(t,i-e,i,s),l=p(c)+p(u);for(o=e;o<i-e;o++)r=t.children[o],a(c,t.leaf?s(r):r),l+=p(c);for(o=i-e-1;o>=e;o--)r=t.children[o],a(u,t.leaf?s(r):r),l+=p(u);return l},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():s(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},397208:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},968509:(t,e,i)=>{"use strict";i.d(e,{Df:()=>a,bL:()=>c,mb:()=>u,X9:()=>l,He:()=>p,rc:()=>_,V4:()=>f,Tx:()=>g,PH:()=>d,ru:()=>m,oB:()=>y,yC:()=>v,GK:()=>I,Uh:()=>E,fk:()=>M,Ux:()=>D,qs:()=>k,Oz:()=>Z,AE:()=>R});var n=i(267644),o=i(85386),r=i(913580),s=i(83482),h=i(782359),a="10px sans-serif",c=[0,0,0,1],u="round",l=[],p=0,_="round",f=10,g=[0,0,0,1],d="center",m="middle",y=[0,0,0,0],v=1,I=new s.Z,O={},S=null,x={},E=function(){var t,e,i=O,o="32px ",s=["monospace","serif"],h=s.length,a="wmytzilWMYTZIL@#/&?$%10ï€“";function c(t){for(var i=C(),n=100;n<=700;n+=300){for(var r=n+" ",c=!0,u=0;u<h;++u){var l=s[u];if(i.font=r+o+l,e=i.measureText(a).width,t!=l){i.font=r+o+t+","+l;var p=i.measureText(a).width;c=c&&p!=e}}if(c)return!0}return!1}function u(){var e=!0;for(var n in i)i[n]<60&&(c(n)?(i[n]=60,(0,r.ZH)(x),S=null,I.clear()):(++i[n],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=(0,n.tr)(e);if(o)for(var r=0,s=o.length;r<s;++r){var h=o[r];h in i||(i[h]=60,c(h)||(i[h]=0,void 0===t&&(t=setInterval(u,32))))}}}();function C(){return S||(S=(0,o.E4)(1,1)),S}var w,L,M=(L=x,function(t){var e=L[t];return null==e&&(w||((w=document.createElement("span")).textContent="M",w.style.margin=w.style.padding="0 !important",w.style.position="absolute !important",w.style.left="-99999px !important"),w.style.font=t,document.body.appendChild(w),e=L[t]=w.offsetHeight,document.body.removeChild(w)),e});function D(t,e){var i=C();return t!=i.font&&(i.font=t),i.measureText(e).width}function k(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}var Z=(0,h.Ue)();function R(t,e,i,n,o,r,s,h,a,c,u){var l;1!=i&&(l=t.globalAlpha,t.globalAlpha=l*i),e&&t.setTransform.apply(t,e),t.drawImage(n,o,r,s,h,a,c,s*u,h*u),l&&(t.globalAlpha=l),e&&t.setTransform.apply(t,Z)}},771405:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(949179),o=i(558493),r=i(218672),s=i(582418);function h(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const a=function(t){function e(e){t.call(this),this.projection_=(0,r.U2)(e.projection),this.attributions_=h(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.Z.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,n.O3)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=h(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(o.ZP)},582418:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},83482:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var n=i(438906),o=i(66575),r=i(173381);const s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(r.Z.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return(0,n.h)(void 0!==e,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},e.prototype.remove=function(t){var e=this.entries_[t];return(0,n.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){(0,n.h)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(o.Z)},409371:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});const n=function(t){function e(e){var i=e||{};t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,atlasManager:i.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(i(218663).default)},898185:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var n=i(949179),o=i(208913),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+(0,o.XC)(t):this.checksum_=(0,n.sq)(this.color_):this.checksum_="f-"}return this.checksum_};const s=r},162875:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>v});var n=i(949179),o=i(611256),r=i(438906),s=i(208913),h=i(613002),a=i(173381);const c="fraction";var u=i(85386),l=i(66575),p=i(516250),_=function(t){function e(e,i,n,o,r,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==o&&(this.image_.crossOrigin=o),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=r,this.size_=n,this.src_=i,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===o.Z.LOADED){this.tainted_=!1;var t=(0,u.E4)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=o.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=o.Z.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],i=this.size_[1],n=(0,u.E4)(e,i);n.fillRect(0,0,e,i),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==o.Z.IDLE){this.imageState_=o.Z.LOADING,this.imageListenerKeys_=[(0,h.Vx)(this.image_,a.Z.ERROR,this.handleImageError_,this),(0,h.Vx)(this.image_,a.Z.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,n=this.color_[0]/255,o=this.color_[1]/255,r=this.color_[2]/255,s=0,h=i.length;s<h;s+=4)i[s]*=n,i[s+1]*=o,i[s+2]*=r;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.bN),this.imageListenerKeys_=null},e}(l.Z);const f="bottom-left",g="bottom-right",d="top-left",m="top-right";var y=function(t){function e(e){var i=e||{},h=void 0!==i.opacity?i.opacity:1,a=void 0!==i.rotation?i.rotation:0,u=void 0!==i.scale?i.scale:1,l=void 0!==i.rotateWithView&&i.rotateWithView;t.call(this,{opacity:h,rotation:a,scale:u,rotateWithView:l}),this.anchor_=void 0!==i.anchor?i.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:d,this.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:c,this.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:c,this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var f=void 0!==i.img?i.img:null,g=void 0!==i.imgSize?i.imgSize:null,m=i.src;(0,r.h)(!(void 0!==m&&f),4),(0,r.h)(!f||f&&g,5),void 0!==m&&0!==m.length||!f||(m=f.src||(0,n.sq)(f)),(0,r.h)(void 0!==m&&m.length>0,6);var y=void 0!==i.src?o.Z.IDLE:o.Z.LOADED;this.color_=void 0!==i.color?(0,s._2)(i.color):null,this.iconImage_=function(t,e,i,n,o,r){var s=p.c.get(e,n,r);return s||(s=new _(t,e,i,n,o,r),p.c.set(e,n,r,s)),s}(f,m,g,this.crossOrigin_,y,this.color_),this.offset_=void 0!==i.offset?i.offset:[0,0],this.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:d,this.origin_=null,this.size_=void 0!==i.size?i.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==c||this.anchorYUnits_==c){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==c&&(t[0]*=e[0]),this.anchorYUnits_==c&&(t[1]*=e[1])}if(this.anchorOrigin_!=d){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=m&&this.anchorOrigin_!=g||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=f&&this.anchorOrigin_!=g||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=d){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=m&&this.offsetOrigin_!=g||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=f&&this.offsetOrigin_!=g||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return(0,h.oL)(this.iconImage_,a.Z.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){(0,h.Ev)(this.iconImage_,a.Z.CHANGE,t,e)},e}(i(548039).default);const v=y},516250:(t,e,i)=>{"use strict";i.d(e,{c:()=>s});var n=i(208913),o=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function r(t,e,i){return e+":"+t+":"+(i?(0,n.XC)(i):"null")}o.prototype.clear=function(){this.cache_={},this.cacheSize_=0},o.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},o.prototype.get=function(t,e,i){var n=r(t,e,i);return n in this.cache_?this.cache_[n]:null},o.prototype.set=function(t,e,i,n){var o=r(t,e,i);this.cache_[o]=n,++this.cacheSize_},o.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var s=new o},548039:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var n=i(949179),o=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};o.prototype.clone=function(){return new o({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},o.prototype.getOpacity=function(){return this.opacity_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getSnapToPixel=function(){return!1},o.prototype.getAnchor=function(){return(0,n.O3)()},o.prototype.getImage=function(t){return(0,n.O3)()},o.prototype.getHitDetectionImage=function(t){return(0,n.O3)()},o.prototype.getImageState=function(){return(0,n.O3)()},o.prototype.getImageSize=function(){return(0,n.O3)()},o.prototype.getHitDetectionImageSize=function(){return(0,n.O3)()},o.prototype.getOrigin=function(){return(0,n.O3)()},o.prototype.getSize=function(){return(0,n.O3)()},o.prototype.setOpacity=function(t){this.opacity_=t},o.prototype.setRotateWithView=function(t){this.rotateWithView_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setSnapToPixel=function(t){},o.prototype.listenImageChange=function(t,e){return(0,n.O3)()},o.prototype.load=function(){(0,n.O3)()},o.prototype.unlistenImageChange=function(t,e){(0,n.O3)()};const r=o},218663:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>c});var n=i(208913),o=i(545120),r=i(85386),s=i(591358),h=i(611256),a=i(968509);const c=function(t){function e(e){var i=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return h.Z.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,i,n="",h="",c=0,u=null,l=0,p=0;this.stroke_&&(null===(i=this.stroke_.getColor())&&(i=a.Tx),i=(0,o.y)(i),void 0===(p=this.stroke_.getWidth())&&(p=a.yC),u=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset(),s.XQ||(u=null,l=0),void 0===(h=this.stroke_.getLineJoin())&&(h=a.rc),void 0===(n=this.stroke_.getLineCap())&&(n=a.mb),void 0===(c=this.stroke_.getMiterLimit())&&(c=a.V4));var _=2*(this.radius_+p)+1,f={strokeStyle:i,strokeWidth:p,size:_,lineCap:n,lineDash:u,lineDashOffset:l,lineJoin:h,miterLimit:c};if(void 0===t){var g=(0,r.E4)(_,_);this.canvas_=g.canvas,e=_=this.canvas_.width,this.draw_(f,g,0,0),this.createHitDetectionCanvas_(f)}else{_=Math.round(_);var d,m=!this.fill_;m&&(d=this.drawHitDetectionCanvas_.bind(this,f));var y=this.getChecksum(),v=t.add(y,_,_,this.draw_.bind(this,f),d);this.canvas_=v.image,this.origin_=[v.offsetX,v.offsetY],e=v.image.width,m?(this.hitDetectionCanvas_=v.hitImage,this.hitDetectionImageSize_=[v.hitImage.width,v.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[_/2,_/2],this.size_=[_,_],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,i,n){var r,s,h;e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(c*=2),r=0;r<=c;r++)s=2*r*Math.PI/c-Math.PI/2+this.angle_,h=r%2==0?this.radius_:u,e.lineTo(t.size/2+h*Math.cos(s),t.size/2+h*Math.sin(s))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l=a.bL),e.fillStyle=(0,o.y)(l),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=(0,r.E4)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,o){e.setTransform(1,0,0,1,0,0),e.translate(i,o),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,h,c,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(r*=2),s=0;s<=r;s++)c=2*s*Math.PI/r-Math.PI/2+this.angle_,h=s%2==0?this.radius_:u,e.lineTo(t.size/2+h*Math.cos(c),t.size/2+h*Math.sin(c))}e.fillStyle=(0,n.XC)(a.bL),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var i="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[i,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(i(548039).default)},120767:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var n=i(949179),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},o.prototype.getColor=function(){return this.color_},o.prototype.getLineCap=function(){return this.lineCap_},o.prototype.getLineDash=function(){return this.lineDash_},o.prototype.getLineDashOffset=function(){return this.lineDashOffset_},o.prototype.getLineJoin=function(){return this.lineJoin_},o.prototype.getMiterLimit=function(){return this.miterLimit_},o.prototype.getWidth=function(){return this.width_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},o.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},o.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},o.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},o.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},o.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,n.sq)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};const r=o},831219:(t,e,i)=>{"use strict";i.r(e),i.d(e,{toFunction:()=>c,createDefaultStyle:()=>l,createEditingStyle:()=>p,default:()=>f});var n=i(438906),o=i(28795),r=i(409371),s=i(898185),h=i(120767),a=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=_,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function c(t){var e,i;"function"==typeof t?e=t:(Array.isArray(t)?i=t:((0,n.h)("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i});return e}a.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},a.prototype.getRenderer=function(){return this.renderer_},a.prototype.setRenderer=function(t){this.renderer_=t},a.prototype.getGeometry=function(){return this.geometry_},a.prototype.getGeometryFunction=function(){return this.geometryFunction_},a.prototype.getFill=function(){return this.fill_},a.prototype.setFill=function(t){this.fill_=t},a.prototype.getImage=function(){return this.image_},a.prototype.setImage=function(t){this.image_=t},a.prototype.getStroke=function(){return this.stroke_},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.getText=function(){return this.text_},a.prototype.setText=function(t){this.text_=t},a.prototype.getZIndex=function(){return this.zIndex_},a.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=_,this.geometry_=t},a.prototype.setZIndex=function(t){this.zIndex_=t};var u=null;function l(t,e){if(!u){var i=new s.default({color:"rgba(255,255,255,0.4)"}),n=new h.default({color:"#3399CC",width:1.25});u=[new a({image:new r.default({fill:i,stroke:n,radius:5}),fill:i,stroke:n})]}return u}function p(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[o.Z.POLYGON]=[new a({fill:new s.default({color:[255,255,255,.5]})})],t[o.Z.MULTI_POLYGON]=t[o.Z.POLYGON],t[o.Z.LINE_STRING]=[new a({stroke:new h.default({color:e,width:5})}),new a({stroke:new h.default({color:i,width:3})})],t[o.Z.MULTI_LINE_STRING]=t[o.Z.LINE_STRING],t[o.Z.CIRCLE]=t[o.Z.POLYGON].concat(t[o.Z.LINE_STRING]),t[o.Z.POINT]=[new a({image:new r.default({radius:6,fill:new s.default({color:i}),stroke:new h.default({color:e,width:1.5})}),zIndex:1/0})],t[o.Z.MULTI_POINT]=t[o.Z.POINT],t[o.Z.GEOMETRY_COLLECTION]=t[o.Z.POLYGON].concat(t[o.Z.LINE_STRING],t[o.Z.POINT]),t}function _(t){return t.getGeometry()}const f=a}}]);