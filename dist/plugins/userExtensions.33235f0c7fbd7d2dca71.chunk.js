(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[2251],{768977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(45697),i=n.n(s),o=n(124852),r=n.n(o),l=n(630294),a=n(222777);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c.apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r().Component{render(){const{cardComponent:e,items:t,colProps:n,onItemClick:s,size:i}=this.props,o=e||a.Z;return r().createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},r().createElement(l.Row,{className:"items-list"},t.map(((e,t)=>r().createElement(l.Col,c({key:e.id||t},n),r().createElement(o,c({onClick:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(e,...n)},size:i},e)))))))}}p(d,"propTypes",{size:i().string,onItemClick:i().func,colProps:i().object,items:i().array,cardComponent:i().oneOfType([i().string,i().func]),className:i().string}),p(d,"defaultProps",{size:"",onItemClick:()=>{},colProps:{xs:12},className:"",items:[]});const u=d},246213:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var s={};n.r(s),n.d(s,{openUserExtensionsEpic:()=>F});var i=n(124852),o=n.n(i),r=n(45697),l=n.n(r),a=n(171703),c=n(22222),p=n(227361),d=n.n(p),u=n(630294),m=n(804504),g=n(867076),f=n(744291),x=n(27908),h=n(756435),E=n(768977),y=n(603754),b=n(8204),v=n(141919),C=n(486234),k=n(313311),Z=n.n(k),S=n(478718),P=n.n(S),w=n(49977),I=n.n(w),N=n(554155),O=n(834650);const z=(0,C.Z)("filterPlaceholder")(y.Z),T=(0,v.Z)((e=>{let{filteredItems:t,filterText:n}=e;return n&&0===t.length}),{glyph:"filter",title:o().createElement(m.Z,{msgId:"userExtensions.emptyTitle"}),description:o().createElement(m.Z,{msgId:"userExtensions.emptyDescription"})})((e=>{let{filteredItems:t,onSelect:n}=e;return o().createElement(E.Z,{className:"user-extensions",size:"sm",items:t.map((e=>({preview:o().createElement("div",{style:{position:"relative",width:"100%",height:"100%",backgroundColor:e.active?"transparent":"#ddd",display:"flex"}},o().createElement(u.Glyphicon,{glyph:e.glyph||"plug",style:{fontSize:26,margin:"auto",color:"#ffffff"}})),title:e.title||e.name,description:e.description,selected:e.active,loading:e.loading,onClick:()=>n(e),tools:o().createElement(b.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:e.active?"plug":"unplug",bsStyle:e.active?"primary":"default",tooltipId:e.active?"userExtensions.removeExtension":"userExtensions.addExtension",onClick:t=>{t.stopPropagation(),n(e)}}]})})))})})),j=(0,g.compose)((0,a.connect)((0,c.P1)(x.hZ,(e=>({extensions:e}))),{onSelect:e=>(0,f.s)(e.name,{active:!e.active})}),(0,g.compose)((0,g.mapPropsStream)((e=>e.combineLatest(I().Observable.defer((()=>(0,O.Z)(undefined))).map((e=>({pluginsConfig:e,loading:!1}))).catch((e=>I().Observable.of({loading:!1,pluginsLoadError:e}))).startWith({loading:!0}),((e,t)=>({...e,...t}))))),(0,g.withPropsOnChange)(["pluginsConfig","extensions"],(e=>{let{extensions:t=[],pluginsConfig:n={plugins:[]}}=e;return{extensions:t.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=P()(Z()(n.plugins,{name:e.name}),["title","description","glyph"])||{};return{...e,...t}}))}})),(0,N.Z)()),(0,C.Z)("extensions","title"),(0,C.Z)("extensions","description"),(0,g.withState)("filterText","onFilter"))((e=>{let{filterText:t,onFilter:n,extensions:s=[],onSelect:i=(()=>{})}=e;const r=s.filter((e=>!t||t&&((e,t)=>["name","title","description"].map((e=>t[e])).map((function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().indexOf(e.toLowerCase())})).reduce(((e,t)=>e||t),!1))(t,e)));return o().createElement(h.Z,{header:o().createElement("div",{style:{padding:"8px 15px"}},o().createElement(z,{filterPlaceholder:"userExtensions.filterPlaceholder",filterText:t,onFilter:n}))},o().createElement(T,{filterText:t,filteredItems:r,onSelect:i}))}));var G=n(152543),L=n(687753),M=n(917450);const F=(e,t)=>e.ofType(L.At,L.kM).filter((e=>{return"userExtensions"===e.control&&(n=t.getState(),d()(n,"controls.userExtensions.enabled"));var n})).switchMap((()=>w.Observable.of((0,M.g)(),(0,M.aN)())));var X=n(350126),A=n(908316);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o().Component{render(){let{active:e,onClose:t,dockStyle:n,size:s}=this.props;return o().createElement(A.Z,{containerStyle:this.props.dockStyle,containerId:"user-extensions-container",containerClassName:"dock-container",open:e,size:s,position:"right",bsStyle:"primary",title:o().createElement(m.Z,{msgId:"userExtensions.title"}),onClose:()=>t(),glyph:"plug",style:n},o().createElement(j,null))}}D(H,"propTypes",{active:l().bool,onClose:l().func,dockStyle:l().object,size:l().number}),D(H,"defaultProps",{active:!1,onClose:()=>{},dockStyle:{},size:550});const U=(0,a.connect)((0,c.P1)((e=>d()(e,"controls.userExtensions.enabled")),(e=>(0,X.ic)(e,{height:!0,right:!0},!0)),((e,t)=>({active:e,dockStyle:t}))),{onClose:L.Xi.bind(null,"userExtensions","enabled")})(H),q=(0,G.rx)("UserExtensions",{component:U,containers:{BurgerMenu:{name:"userExtensions",position:999,text:o().createElement(m.Z,{msgId:"userExtensions.title"}),icon:o().createElement(u.Glyphicon,{glyph:"plug"}),action:L.Xg.bind(null,"userExtensions","enabled",!0,!0),priority:2,doNotHide:!0},SidebarMenu:{name:"userExtensions",position:999,tooltip:"userExtensions.title",icon:o().createElement(u.Glyphicon,{glyph:"plug"}),text:o().createElement(m.Z,{msgId:"userExtensions.title"}),action:L.Xg.bind(null,"userExtensions","enabled",!0,!0),priority:1,doNotHide:!0,toggle:!0}},epics:s})}}]);