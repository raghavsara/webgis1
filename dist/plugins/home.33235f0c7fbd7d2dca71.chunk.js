(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[3507],{267152:(e,o,t)=>{"use strict";t.d(o,{D:()=>f,Z:()=>M});var n=t(124852),s=t.n(n),a=t(23888),r=t(45697),i=t.n(r),l=t(630294),c=t(401811),p=t(804504),h=t(283604),m=t(227361),g=t.n(m),d=t(478718),u=t.n(d),y=t(234228),b=t(466737);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},C.apply(this,arguments)}function v(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}const f=()=>{const e=y.ZP.getConfigProp("miscSettings");return g()(e,["homePath"],"/")};class E extends s().Component{constructor(){super(...arguments),v(this,"checkUnsavedChanges",(()=>{this.props.renderUnsavedMapChangesDialog?this.props.onCheckMapChanges(this.goHome):(this.props.onCloseUnsavedDialog(),this.goHome())})),v(this,"goHome",(()=>{this.context.router.history.push(f())}))}render(){const{tooltipPosition:e,hidden:o,...t}=this.props;let n=s().createElement(l.Tooltip,{id:"toolbar-home-button"},s().createElement(p.Z,{msgId:"gohome"}));return!o&&s().createElement(s().Fragment,null,s().createElement(c.Z,{overlay:n,placement:e},s().createElement(a.Z,C({id:"home-button",className:"square-button",bsStyle:this.props.bsStyle,onClick:this.checkUnsavedChanges,tooltip:n},u()(t,["disabled","active","block","componentClass","href","children","icon","bsStyle","className"])),s().createElement(l.Glyphicon,{glyph:this.props.icon}))),s().createElement(b.Z,null,s().createElement(h.Z,{ref:"unsavedMapModal",show:this.props.displayUnsavedDialog||!1,onClose:this.props.onCloseUnsavedDialog,title:s().createElement(p.Z,{msgId:"resources.maps.unsavedMapConfirmTitle"}),buttons:[{bsStyle:"primary",text:s().createElement(p.Z,{msgId:"resources.maps.unsavedMapConfirmButtonText"}),onClick:this.goHome},{text:s().createElement(p.Z,{msgId:"resources.maps.unsavedMapCancelButtonText"}),onClick:this.props.onCloseUnsavedDialog}],fitContent:!0},s().createElement("div",{className:"ms-detail-body"},s().createElement(p.Z,{msgId:"resources.maps.unsavedMapConfirmMessage"})))))}}v(E,"propTypes",{icon:i().string,onCheckMapChanges:i().func,onCloseUnsavedDialog:i().func,displayUnsavedDialog:i().bool,renderUnsavedMapChangesDialog:i().bool,tooltipPosition:i().string,bsStyle:i().string,hidden:i().bool}),v(E,"contextTypes",{router:i().object,messages:i().object}),v(E,"defaultProps",{icon:"home",onCheckMapChanges:()=>{},onCloseUnsavedDialog:()=>{},renderUnsavedMapChangesDialog:!0,tooltipPosition:"left",bsStyle:"primary",hidden:!1});const M=E},561253:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>f});var n=t(124852),s=t.n(n),a=t(727418),r=t.n(a);function i(e,o){return o&&o.history.push(e),{type:"GO_TO_PAGE",page:e}}var l=t(409442),c=t(488400),p=t(630294),h=t(267152),m=t(171703),g=t(507633),d=t(687753),u=t(119008),y=t(943476),b=t(234228),C=t(652700);const v=(0,m.connect)((e=>({renderUnsavedMapChangesDialog:b.ZP.getConfigProp("unsavedMapChangesDialog"),displayUnsavedDialog:(0,u.Eg)(e)&&"gohome"===(0,u.nS)(e)&&("viewer"===(0,y.I)(e).currentPage||"geostory"===(0,y.I)(e).currentPage||"dashboard"===(0,y.I)(e).currentPage)})),{onCheckMapChanges:e=>o=>{o((0,g.e)(e,"gohome"))},onCloseUnsavedDialog:d.Xg.bind(null,"unsavedMap","enabled",!1)})(h.Z),f={HomePlugin:r()(v,{Toolbar:{name:"home",position:1,tooltip:"gohome",icon:s().createElement(p.Glyphicon,{glyph:"home"}),help:s().createElement(c.Z,{msgId:"helptexts.gohome"}),action:e=>i((0,h.D)(),e.router),priority:1},BurgerMenu:{name:"home",position:1,text:s().createElement(c.Z,{msgId:"gohome"}),icon:s().createElement(p.Glyphicon,{glyph:"home"}),action:e=>i((0,h.D)(),e.router),priority:2},OmniBar:{name:"home",position:4,tool:(0,m.connect)((e=>({hidden:(0,C.z)(e),bsStyle:"primary",tooltipPosition:"bottom"})))(v),priority:3},SidebarMenu:{name:"home",position:1,tool:(0,m.connect)((()=>({bsStyle:"tray",tooltipPosition:"left",text:s().createElement(c.Z,{msgId:"gohome"})})))(v),selector:e=>({style:{display:(0,u.$)(e)?"none":null}}),priority:3}}),reducers:{},epics:{comparePendingChanges:l.c}}}}]);